import{_ as K,e as _,f as L,c as S,a as f,b as e,w as l,r,o as y,d as o,n as s,p as T,x as B,v as Q,E as W}from"./index-QFnM3oiv.js";const X={class:"order-management"},Y={class:"search-bar"},Z={class:"pagination"},ee={key:1},le={class:"dialog-footer"},ae={__name:"OrderView",setup(te){const h=_([]),x=_(0),v=_(1),V=_(10),w=_(!1),n=_(null),d=L({orderId:"",appName:"",state:"",payType:""}),C=u=>{switch(u){case 1:return"等待支付";case 2:return"已支付";case 3:return"订单成功";case-1:return"已关闭";default:return"未知状态"}},k=u=>{switch(u){case 1:return"warning";case 2:return"success";case 3:return"success";case-1:return"danger";default:return"info"}},I=u=>{switch(u){case 2:return"支付宝";case 3:return"微信App";case 4:return"支付宝App";default:return"未知类型"}},U=()=>{v.value=1,m()},E=()=>{d.orderId="",d.appName="",d.state="",d.payType="",v.value=1,m()},F=u=>{n.value=u,w.value=!0},P=u=>{Q.confirm("确定要关闭这个订单吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{W.success("订单关闭成功"),m()}).catch(()=>{})},D=u=>{V.value=u,m()},$=u=>{v.value=u,m()},m=()=>{h.value=[],x.value=0};return m(),(u,a)=>{const z=r("el-input"),b=r("el-form-item"),c=r("el-option"),N=r("el-select"),g=r("el-button"),A=r("el-form"),i=r("el-table-column"),O=r("el-tag"),M=r("el-table"),j=r("el-pagination"),R=r("el-card"),p=r("el-descriptions-item"),q=r("el-image"),G=r("el-descriptions"),H=r("el-dialog");return y(),S("div",X,[a[14]||(a[14]=f("h2",null,"订单管理",-1)),e(R,{shadow:"hover"},{header:l(()=>[...a[8]||(a[8]=[f("div",{class:"card-header"},[f("span",null,"订单列表")],-1)])]),default:l(()=>[f("div",Y,[e(A,{model:d,inline:""},{default:l(()=>[e(b,{label:"订单号"},{default:l(()=>[e(z,{modelValue:d.orderId,"onUpdate:modelValue":a[0]||(a[0]=t=>d.orderId=t),placeholder:"请输入订单号"},null,8,["modelValue"])]),_:1}),e(b,{label:"应用名称"},{default:l(()=>[e(z,{modelValue:d.appName,"onUpdate:modelValue":a[1]||(a[1]=t=>d.appName=t),placeholder:"请输入应用名称"},null,8,["modelValue"])]),_:1}),e(b,{label:"订单状态"},{default:l(()=>[e(N,{modelValue:d.state,"onUpdate:modelValue":a[2]||(a[2]=t=>d.state=t),placeholder:"请选择订单状态"},{default:l(()=>[e(c,{label:"全部",value:""}),e(c,{label:"等待支付",value:1}),e(c,{label:"已支付",value:2}),e(c,{label:"订单成功",value:3}),e(c,{label:"已关闭",value:-1})]),_:1},8,["modelValue"])]),_:1}),e(b,{label:"支付类型"},{default:l(()=>[e(N,{modelValue:d.payType,"onUpdate:modelValue":a[3]||(a[3]=t=>d.payType=t),placeholder:"请选择支付类型"},{default:l(()=>[e(c,{label:"全部",value:""}),e(c,{label:"支付宝",value:2})]),_:1},8,["modelValue"])]),_:1}),e(b,null,{default:l(()=>[e(g,{type:"primary",onClick:U},{default:l(()=>[...a[9]||(a[9]=[o("搜索",-1)])]),_:1}),e(g,{onClick:E},{default:l(()=>[...a[10]||(a[10]=[o("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),e(M,{data:h.value,style:{width:"100%"},stripe:""},{default:l(()=>[e(i,{prop:"id",label:"ID",width:"80"}),e(i,{prop:"orderId",label:"订单号",width:"180"}),e(i,{prop:"appName",label:"应用名称"}),e(i,{prop:"appItem",label:"商品名称"}),e(i,{prop:"price",label:"金额",width:"100"},{default:l(t=>[o(" ¥"+s(t.row.price.toFixed(2)),1)]),_:1}),e(i,{prop:"payType",label:"支付类型",width:"100"},{default:l(t=>[o(s(I(t.row.payType)),1)]),_:1}),e(i,{prop:"state",label:"状态",width:"100"},{default:l(t=>[e(O,{type:k(t.row.state)},{default:l(()=>[o(s(C(t.row.state)),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"createTime",label:"创建时间",width:"180"}),e(i,{prop:"payTime",label:"支付时间",width:"180"}),e(i,{prop:"closeTime",label:"关闭时间",width:"180"}),e(i,{label:"操作",width:"200",fixed:"right"},{default:l(t=>[e(g,{type:"primary",size:"small",onClick:J=>F(t.row)},{default:l(()=>[...a[11]||(a[11]=[o("查看",-1)])]),_:1},8,["onClick"]),t.row.state===1?(y(),T(g,{key:0,type:"danger",size:"small",onClick:J=>P(t.row.orderId)},{default:l(()=>[...a[12]||(a[12]=[o("关闭",-1)])]),_:1},8,["onClick"])):B("",!0)]),_:1})]),_:1},8,["data"]),f("div",Z,[e(j,{"current-page":v.value,"onUpdate:currentPage":a[4]||(a[4]=t=>v.value=t),"page-size":V.value,"onUpdate:pageSize":a[5]||(a[5]=t=>V.value=t),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:x.value,onSizeChange:D,onCurrentChange:$},null,8,["current-page","page-size","total"])])]),_:1}),e(H,{modelValue:w.value,"onUpdate:modelValue":a[7]||(a[7]=t=>w.value=t),title:"查看订单",width:"600px"},{footer:l(()=>[f("span",le,[e(g,{onClick:a[6]||(a[6]=t=>w.value=!1)},{default:l(()=>[...a[13]||(a[13]=[o("关闭",-1)])]),_:1})])]),default:l(()=>[n.value?(y(),T(G,{key:0,column:1},{default:l(()=>[e(p,{label:"订单号"},{default:l(()=>[o(s(n.value.orderId),1)]),_:1}),e(p,{label:"应用名称"},{default:l(()=>[o(s(n.value.appName),1)]),_:1}),e(p,{label:"商品名称"},{default:l(()=>[o(s(n.value.appItem),1)]),_:1}),e(p,{label:"金额"},{default:l(()=>[o("¥"+s(n.value.price.toFixed(2)),1)]),_:1}),e(p,{label:"实际支付金额"},{default:l(()=>[o("¥"+s(n.value.realPrice.toFixed(2)),1)]),_:1}),e(p,{label:"支付类型"},{default:l(()=>[o(s(I(n.value.payType)),1)]),_:1}),e(p,{label:"订单状态"},{default:l(()=>[e(O,{type:k(n.value.state)},{default:l(()=>[o(s(C(n.value.state)),1)]),_:1},8,["type"])]),_:1}),e(p,{label:"创建时间"},{default:l(()=>[o(s(n.value.createTime),1)]),_:1}),e(p,{label:"支付时间"},{default:l(()=>[o(s(n.value.payTime||"未支付"),1)]),_:1}),e(p,{label:"关闭时间"},{default:l(()=>[o(s(n.value.closeTime||"未关闭"),1)]),_:1}),e(p,{label:"附加参数"},{default:l(()=>[o(s(n.value.param||"无"),1)]),_:1}),e(p,{label:"用户信息"},{default:l(()=>[o(s(n.value.user||"无"),1)]),_:1}),e(p,{label:"支付二维码"},{default:l(()=>[n.value.payImage?(y(),T(q,{key:0,src:n.value.payImage,style:{width:"200px",height:"200px"},fit:"cover"},null,8,["src"])):(y(),S("span",ee,"无"))]),_:1})]),_:1})):B("",!0)]),_:1},8,["modelValue"])])}}},ne=K(ae,[["__scopeId","data-v-3236c5c0"]]);export{ne as default};
